{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "metadata": {
    "version": "1.0.0",
    "last_updated": "2025-10-17",
    "description": "GitHub Actions organization-level runner group configuration",
    "wave": "Wave 2 - Infrastructure Provisioning",
    "managed_by": "DevOps Team"
  },
  "organization": {
    "name": "YOUR_GITHUB_ORG",
    "runner_groups_enabled": true,
    "enterprise_enabled": false,
    "visibility": "selected"
  },
  "runner_groups": [
    {
      "id": "ai-agents",
      "name": "ai-agents",
      "display_name": "AI Agent Runners",
      "description": "Self-hosted runners for AI-powered workflows (PR review, issue triage, code generation)",
      "visibility": "selected",
      "allows_public_repositories": false,
      "restricted_to_workflows": false,
      "runners": {
        "min_runners": 3,
        "max_runners": 10,
        "default_labels": [
          "self-hosted",
          "linux",
          "x64",
          "ai-agent",
          "wsl-ubuntu-22.04",
          "docker-capable",
          "tier-standard"
        ],
        "optional_labels": [
          "high-memory",
          "gpu-available"
        ]
      },
      "repository_access": {
        "access_level": "selected",
        "repositories": [
          "pr-review-agent",
          "code-gen-agent",
          "testing-agent",
          "ai-docs-generator",
          "issue-triage-bot"
        ],
        "access_pattern": "all_repos",
        "comment": "Set access_level to 'all' to grant all org repositories access, or list specific repos above"
      },
      "workflow_routing": {
        "label_selector": [
          "self-hosted",
          "linux",
          "ai-agent"
        ],
        "example_runs_on": [
          "self-hosted",
          "linux",
          "x64",
          "ai-agent"
        ]
      },
      "resource_allocation": {
        "cpu_cores": "4-6",
        "memory_gb": "8-12",
        "storage_gb": 200,
        "tier": "tier-standard",
        "cost_per_runner_monthly": 60
      },
      "auto_scaling": {
        "enabled": true,
        "trigger_queue_depth": 5,
        "trigger_wait_time_seconds": 120,
        "scale_up_increment": 1,
        "scale_down_delay_minutes": 15,
        "cooldown_period_minutes": 5
      },
      "monitoring": {
        "enabled": true,
        "metrics": [
          "queue_depth",
          "job_wait_time",
          "runner_utilization",
          "success_rate"
        ],
        "alerts": [
          {
            "condition": "queue_depth > 10",
            "severity": "warning",
            "action": "scale_up"
          },
          {
            "condition": "avg_wait_time > 300",
            "severity": "critical",
            "action": "scale_up_urgent"
          },
          {
            "condition": "success_rate < 0.95",
            "severity": "warning",
            "action": "investigate"
          }
        ]
      },
      "security": {
        "token_rotation_days": 90,
        "secret_access": [
          "OPENAI_API_KEY",
          "ANTHROPIC_API_KEY",
          "GITHUB_TOKEN"
        ],
        "allowed_actions": [
          "actions/checkout@v3",
          "actions/setup-node@v3",
          "actions/setup-python@v4"
        ],
        "restricted_commands": false
      }
    },
    {
      "id": "backend-team",
      "name": "backend-team",
      "display_name": "Backend Team Runners",
      "description": "Dedicated runners for backend service development (APIs, microservices, databases)",
      "visibility": "selected",
      "allows_public_repositories": false,
      "restricted_to_workflows": false,
      "runners": {
        "min_runners": 1,
        "max_runners": 5,
        "default_labels": [
          "self-hosted",
          "linux",
          "x64",
          "team-backend",
          "wsl-ubuntu-22.04",
          "docker-capable",
          "tier-standard"
        ],
        "optional_labels": [
          "high-memory",
          "tier-performance"
        ]
      },
      "repository_access": {
        "access_level": "selected",
        "repositories": [
          "api-server",
          "microservices",
          "database",
          "worker-queue",
          "backend-utils"
        ],
        "access_pattern": "team_based"
      },
      "workflow_routing": {
        "label_selector": [
          "self-hosted",
          "linux",
          "team-backend"
        ],
        "example_runs_on": [
          "self-hosted",
          "linux",
          "x64",
          "team-backend",
          "tier-standard"
        ]
      },
      "resource_allocation": {
        "cpu_cores": "4-6",
        "memory_gb": "8-12",
        "storage_gb": 200,
        "tier": "tier-standard",
        "cost_per_runner_monthly": 60
      },
      "auto_scaling": {
        "enabled": true,
        "trigger_queue_depth": 5,
        "trigger_wait_time_seconds": 120,
        "scale_up_increment": 1,
        "scale_down_delay_minutes": 15,
        "cooldown_period_minutes": 5
      }
    },
    {
      "id": "frontend-team",
      "name": "frontend-team",
      "display_name": "Frontend Team Runners",
      "description": "Dedicated runners for frontend development (React, Vue, npm builds, UI tests)",
      "visibility": "selected",
      "allows_public_repositories": false,
      "restricted_to_workflows": false,
      "runners": {
        "min_runners": 1,
        "max_runners": 5,
        "default_labels": [
          "self-hosted",
          "linux",
          "x64",
          "team-frontend",
          "wsl-ubuntu-22.04",
          "docker-capable",
          "tier-standard"
        ],
        "optional_labels": [
          "tier-performance"
        ]
      },
      "repository_access": {
        "access_level": "selected",
        "repositories": [
          "web-app",
          "mobile-app",
          "ui-components",
          "design-system",
          "frontend-shared"
        ],
        "access_pattern": "team_based"
      },
      "workflow_routing": {
        "label_selector": [
          "self-hosted",
          "linux",
          "team-frontend"
        ],
        "example_runs_on": [
          "self-hosted",
          "linux",
          "x64",
          "team-frontend",
          "tier-standard"
        ]
      },
      "resource_allocation": {
        "cpu_cores": "4-6",
        "memory_gb": "8-12",
        "storage_gb": 200,
        "tier": "tier-standard",
        "cost_per_runner_monthly": 60
      },
      "auto_scaling": {
        "enabled": true,
        "trigger_queue_depth": 5,
        "trigger_wait_time_seconds": 120,
        "scale_up_increment": 1,
        "scale_down_delay_minutes": 15,
        "cooldown_period_minutes": 5
      }
    },
    {
      "id": "platform-team",
      "name": "platform-team",
      "display_name": "Platform & Infrastructure Runners",
      "description": "Runners for infrastructure, DevOps, and CI/CD pipeline management",
      "visibility": "selected",
      "allows_public_repositories": false,
      "restricted_to_workflows": false,
      "runners": {
        "min_runners": 1,
        "max_runners": 3,
        "default_labels": [
          "self-hosted",
          "linux",
          "x64",
          "team-platform",
          "wsl-ubuntu-22.04",
          "docker-capable",
          "tier-standard"
        ],
        "optional_labels": [
          "tier-performance"
        ]
      },
      "repository_access": {
        "access_level": "selected",
        "repositories": [
          "infra",
          "devops",
          "ci-cd-templates",
          "monitoring",
          "security-tools"
        ],
        "access_pattern": "team_based"
      },
      "workflow_routing": {
        "label_selector": [
          "self-hosted",
          "linux",
          "team-platform"
        ],
        "example_runs_on": [
          "self-hosted",
          "linux",
          "x64",
          "team-platform",
          "tier-standard"
        ]
      },
      "resource_allocation": {
        "cpu_cores": "4-6",
        "memory_gb": "8-12",
        "storage_gb": 200,
        "tier": "tier-standard",
        "cost_per_runner_monthly": 60
      },
      "auto_scaling": {
        "enabled": false,
        "comment": "Platform team has predictable workload - manual scaling preferred"
      }
    },
    {
      "id": "shared-pool",
      "name": "shared-pool",
      "display_name": "Shared Runner Pool",
      "description": "General-purpose shared runners for all teams (fallback capacity)",
      "visibility": "all",
      "allows_public_repositories": false,
      "restricted_to_workflows": false,
      "runners": {
        "min_runners": 2,
        "max_runners": 15,
        "default_labels": [
          "self-hosted",
          "linux",
          "x64",
          "wsl-ubuntu-22.04",
          "docker-capable",
          "tier-standard"
        ],
        "optional_labels": [
          "tier-performance",
          "high-memory"
        ]
      },
      "repository_access": {
        "access_level": "all",
        "repositories": [],
        "access_pattern": "organization_wide",
        "comment": "All repositories can access shared pool"
      },
      "workflow_routing": {
        "label_selector": [
          "self-hosted",
          "linux"
        ],
        "example_runs_on": [
          "self-hosted",
          "linux",
          "x64"
        ]
      },
      "resource_allocation": {
        "cpu_cores": "4-6",
        "memory_gb": "8-12",
        "storage_gb": 200,
        "tier": "tier-standard",
        "cost_per_runner_monthly": 60
      },
      "auto_scaling": {
        "enabled": true,
        "trigger_queue_depth": 8,
        "trigger_wait_time_seconds": 180,
        "scale_up_increment": 2,
        "scale_down_delay_minutes": 30,
        "cooldown_period_minutes": 10
      }
    }
  ],
  "fallback_strategy": {
    "enabled": true,
    "order": [
      "Match specific team/project label",
      "Match ai-agent if required",
      "Fall back to shared-pool",
      "Queue until capacity available"
    ],
    "timeout_seconds": 600,
    "max_queue_depth": 50
  },
  "global_settings": {
    "runner_idle_timeout_minutes": 30,
    "runner_update_schedule": "weekly",
    "log_retention_days": 90,
    "metrics_collection_interval_seconds": 30,
    "default_job_timeout_minutes": 60,
    "max_job_timeout_minutes": 360
  },
  "cost_tracking": {
    "enabled": true,
    "allocation_method": "label_based",
    "billing_period": "monthly",
    "budget_alerts": [
      {
        "threshold_percent": 80,
        "severity": "warning"
      },
      {
        "threshold_percent": 100,
        "severity": "critical"
      }
    ]
  },
  "documentation": {
    "setup_guide": "docs/runner-group-management.md",
    "label_taxonomy": "docs/label-taxonomy.md",
    "troubleshooting": "docs/troubleshooting.md",
    "api_reference": "https://docs.github.com/en/rest/actions/self-hosted-runner-groups"
  }
}
