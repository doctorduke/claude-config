{
  "test_metadata": {
    "test_suite": "Wave 4 Chaos Engineering",
    "test_date": "2025-10-17",
    "duration_minutes": 275,
    "total_scenarios": 18,
    "environment": "self-hosted-runners",
    "runner_count": 5
  },
  "summary_metrics": {
    "overall_pass_rate": 0.72,
    "mean_time_to_recovery_minutes": 3.8,
    "total_failures": 5,
    "total_passes": 13,
    "resilience_score": 0.72
  },
  "test_results": [
    {
      "id": "1.1",
      "category": "runner_failures",
      "scenario": "stop_runner_mid_job",
      "status": "PASS",
      "recovery_time_seconds": 92,
      "failure_injection": "docker stop github-runner-01",
      "expected_behavior": "job_reschedules_within_2_minutes",
      "actual_behavior": "job_rescheduled_after_90_seconds",
      "timestamps": {
        "failure_injected": "2025-10-17T10:15:23Z",
        "failure_detected": "2025-10-17T10:15:45Z",
        "recovery_started": "2025-10-17T10:16:20Z",
        "recovery_completed": "2025-10-17T10:16:55Z"
      }
    },
    {
      "id": "1.2",
      "category": "runner_failures",
      "scenario": "kill_runner_process",
      "status": "PASS",
      "recovery_time_seconds": 108,
      "failure_injection": "kill -9 <runner-pid>",
      "expected_behavior": "container_restarts_job_reschedules",
      "actual_behavior": "container_auto_restarted_job_rescheduled"
    },
    {
      "id": "1.3",
      "category": "runner_failures",
      "scenario": "runner_registration_failure",
      "status": "FAIL",
      "recovery_time_seconds": 135,
      "failure_injection": "corrupted_registration_token",
      "expected_behavior": "runner_re_registers_automatically",
      "actual_behavior": "manual_token_rotation_required",
      "error_details": "Automated token rotation not implemented"
    },
    {
      "id": "2.1",
      "category": "disk_space",
      "scenario": "fill_disk_95_percent",
      "status": "PASS",
      "recovery_time_seconds": 28,
      "failure_injection": "fallocate -l 45G /tmp/bigfile",
      "disk_metrics": {
        "before_usage_percent": 45,
        "peak_usage_percent": 95,
        "after_cleanup_percent": 50,
        "space_freed_gb": 20
      }
    },
    {
      "id": "2.2",
      "category": "disk_space",
      "scenario": "gradual_disk_fill",
      "status": "PASS",
      "recovery_time_seconds": 42,
      "failure_injection": "background_write_100mb_per_sec",
      "cleanup_triggered": true
    },
    {
      "id": "2.3",
      "category": "disk_space",
      "scenario": "workspace_cleanup",
      "status": "PASS",
      "recovery_time_seconds": 35,
      "artifacts_deleted": 15,
      "space_reclaimed_gb": 10
    },
    {
      "id": "3.1",
      "category": "network_partitions",
      "scenario": "block_github_api",
      "status": "FAIL",
      "recovery_time_seconds": 720,
      "failure_injection": "iptables -A OUTPUT -d api.github.com -j DROP",
      "timeout_seconds": 600,
      "retry_attempts": 3,
      "error_details": "Timeout too long, should fail faster"
    },
    {
      "id": "3.2",
      "category": "network_partitions",
      "scenario": "dns_resolution_failure",
      "status": "FAIL",
      "recovery_time_seconds": 480,
      "failure_injection": "modified /etc/hosts",
      "error_message": "connection refused",
      "expected_error": "DNS resolution failed",
      "error_details": "Error message not actionable"
    },
    {
      "id": "3.3",
      "category": "network_partitions",
      "scenario": "packet_loss_30_percent",
      "status": "PASS",
      "recovery_time_seconds": null,
      "failure_injection": "tc netem loss 30%",
      "performance_impact": 3.2,
      "requests_succeeded": true
    },
    {
      "id": "4.1",
      "category": "ai_service_outage",
      "scenario": "ai_api_503_error",
      "status": "PASS",
      "recovery_time_seconds": 15,
      "failure_injection": "mock_503_response",
      "fallback_activated": true,
      "fallback_type": "regex_based_analysis"
    },
    {
      "id": "4.2",
      "category": "ai_service_outage",
      "scenario": "ai_api_timeout",
      "status": "PASS",
      "recovery_time_seconds": 11,
      "failure_injection": "30_second_network_delay",
      "timeout_threshold_seconds": 10,
      "fallback_activated": true
    },
    {
      "id": "4.3",
      "category": "ai_service_outage",
      "scenario": "ai_malformed_response",
      "status": "PASS",
      "recovery_time_seconds": 18,
      "failure_injection": "invalid_json_response",
      "error_type": "json_parse_error",
      "fallback_activated": true
    },
    {
      "id": "5.1",
      "category": "git_conflicts",
      "scenario": "merge_conflict_auto_fix",
      "status": "PASS",
      "recovery_time_seconds": 225,
      "failure_injection": "conflicting_branch_changes",
      "pr_created": true,
      "conflict_notification": true
    },
    {
      "id": "5.2",
      "category": "git_conflicts",
      "scenario": "force_push_protection",
      "status": "PASS",
      "recovery_time_seconds": 150,
      "failure_injection": "attempted_force_push",
      "protection_enforced": true
    },
    {
      "id": "5.3",
      "category": "git_conflicts",
      "scenario": "stale_branch_recovery",
      "status": "FAIL",
      "recovery_time_seconds": 420,
      "failure_injection": "branch_50_commits_behind",
      "rebase_attempted": true,
      "manual_intervention_required": true
    },
    {
      "id": "6.1",
      "category": "concurrent_jobs",
      "scenario": "queue_20_jobs",
      "status": "PASS",
      "recovery_time_seconds": null,
      "failure_injection": "triggered_20_workflows",
      "queue_metrics": {
        "active_jobs": 5,
        "queued_jobs": 15,
        "avg_queue_time_seconds": 192,
        "all_completed": true
      }
    },
    {
      "id": "6.2",
      "category": "concurrent_jobs",
      "scenario": "runner_pool_autoscaling",
      "status": "FAIL",
      "recovery_time_seconds": 1080,
      "failure_injection": "30_concurrent_jobs",
      "autoscaling_configured": false,
      "error_details": "No autoscaling configured, excessive queueing"
    },
    {
      "id": "6.3",
      "category": "concurrent_jobs",
      "scenario": "resource_contention",
      "status": "PASS",
      "recovery_time_seconds": null,
      "failure_injection": "10_cpu_intensive_jobs",
      "performance_degradation_percent": 40,
      "system_stable": true
    }
  ],
  "recovery_time_analysis": {
    "percentiles": {
      "p50": 42,
      "p75": 180,
      "p90": 420,
      "p95": 600,
      "p99": 720
    },
    "distribution": {
      "under_1_min": 6,
      "1_to_2_min": 4,
      "2_to_5_min": 3,
      "5_to_10_min": 2,
      "over_10_min": 3
    }
  },
  "monitoring_alerts": {
    "runner_down": {
      "target_seconds": 120,
      "actual_seconds": 105,
      "status": "PASS"
    },
    "disk_space_warning": {
      "target_seconds": 300,
      "actual_seconds": 150,
      "status": "PASS"
    },
    "workflow_failure": {
      "target_seconds": 60,
      "actual_seconds": 45,
      "status": "PASS"
    },
    "queue_depth": {
      "target_seconds": 300,
      "actual_seconds": null,
      "status": "FAIL",
      "reason": "Alert not configured"
    },
    "api_errors": {
      "target_seconds": 120,
      "actual_seconds": 195,
      "status": "PARTIAL"
    }
  },
  "resource_metrics": {
    "cpu_usage": {
      "baseline_percent": 15,
      "under_load_percent": 85,
      "peak_percent": 98
    },
    "memory_usage": {
      "baseline_mb": 512,
      "under_load_mb": 3200,
      "peak_mb": 3800
    },
    "network_bandwidth": {
      "baseline_mbps": 5,
      "under_load_mbps": 45,
      "peak_mbps": 95
    },
    "disk_io": {
      "baseline_iops": 100,
      "under_load_iops": 2500,
      "peak_iops": 4800
    }
  },
  "critical_findings": [
    {
      "severity": "HIGH",
      "issue": "Network timeout configuration",
      "current_value": "10 minutes",
      "recommended_value": "30 seconds with exponential backoff",
      "impact": "Workflows hang unnecessarily during network issues"
    },
    {
      "severity": "HIGH",
      "issue": "Runner registration token management",
      "current_state": "Manual rotation required",
      "recommended_state": "Automated token refresh",
      "impact": "Runner failures require manual intervention"
    },
    {
      "severity": "HIGH",
      "issue": "No autoscaling configured",
      "current_state": "Fixed 5 runner pool",
      "recommended_state": "5-20 runners with autoscaling",
      "impact": "High job volumes cause excessive queueing"
    },
    {
      "severity": "MEDIUM",
      "issue": "Error messages not actionable",
      "examples": ["DNS shown as connection refused", "Git conflicts lack resolution steps"],
      "impact": "Difficult troubleshooting"
    },
    {
      "severity": "MEDIUM",
      "issue": "Stale branch handling",
      "current_behavior": "Auto-rebase fails silently",
      "recommended_behavior": "Create PR with rebase instructions",
      "impact": "Manual intervention needed"
    }
  ],
  "recommendations": {
    "immediate": [
      "Fix network timeout to 30s with exponential backoff",
      "Implement runner token auto-refresh mechanism",
      "Add queue depth monitoring and alerting"
    ],
    "short_term": [
      "Configure runner autoscaling (target < 2 min queue time)",
      "Enhance error messages with resolution steps",
      "Improve git conflict handling with auto-PR creation"
    ],
    "long_term": [
      "Implement circuit breaker pattern",
      "Add continuous chaos testing (monthly)",
      "Develop self-healing capabilities"
    ]
  }
}